
1. Trader Report

ATTACH 'OrderBook.db' as odb;
ATTACH 'Reporting.db' as rdb;
SELECT * FROM rdb.t1 b INNER JOIN odb.t2 a ON (b.orderid1 = a.t1key OR b.orderid2 = a.t1key) ORDER BY a.account, a.user;

2. Instrument Report

ATTACH 'OrderBook.db' as odb;
ATTACH 'Reporting.db' as rdb;
SELECT * FROM rdb.t1 b INNER JOIN odb.t2 a ON (b.orderid1 = a.t1key OR b.orderid2 = a.t1key) ORDER BY a.symbol;

3. Summary Report

ATTACH 'OrderBook.db' as odb;
ATTACH 'Reporting.db' as rdb;
SELECT COUNT(*) FROM odb.t2;
SELECT COUNT(*) FROM rdb.t1;
SELECT SUM(quantity) FROM odb.t2 WHERE (side='0');
SELECT SUM(quantity) FROM odb.t2 WHERE (side='1');
SELECT SUM(quantity) FROM odb.t2;
SELECT MAX(price) FROM rdb.t1 WHERE (symbol='msft');
[run this query on each symbol in play]

